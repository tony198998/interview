Redis的同步机制

Redis的复制功能分为同步(sync )和命令传播( command propagate )两个操作:

1、同步操作用于将从服务器的数据库状态更新至主服务器当前所处的数据库状态。
2、命令传播操作则用于在主服务器的数据库状态被修改,导致主从服务器的数据库状态出现不一致时,
让主从服务器的数据库重新回到一致状态

从服务器向主服务器发送一个sync命令，主服务器从开始接收客户端的bgsave命令开始，生成一个RDB文件或者Aof文件，
从服务器接收到该文件时，就将该文件中的写命令写到自己的服务器